<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Yuvi ‚ù§Ô∏è</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script src="https://unpkg.com/scratchcard-js"></script>
  <style>
    :root {
      --main-color: #ff4f81;
      --font-lg: 3em;
      --font-md: 1.4em;
      --font-sm: 1.2em;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      color: white;
      text-align: center;
      overflow-x: hidden;
    }

    @keyframes gradient {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    h1 {
      margin-top: 12vh;
      font-size: var(--font-lg);
      font-weight: bold;
      padding: 0 10px;
    }

    .countdown {
      margin-top: 10px;
      font-size: 1.3em;
      background: rgba(255, 255, 255, 0.15);
      padding: 10px 20px;
      border-radius: 20px;
      display: inline-block;
      color: #fff9f9;
      backdrop-filter: blur(8px);
    }

    .typewriter {
      width: 90%;
      margin: 30px auto;
      font-size: var(--font-md);
      white-space: pre-wrap;
      border-right: 2px solid white;
      overflow: hidden;
      animation: typing 6s steps(40, end), blink-caret 0.8s step-end infinite;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 90%; }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: white; }
    }

    .moon-scene {
      display: block;
      width: 100%;
      height: auto;
      max-height: 90vh;
      object-fit: cover;
      margin: 30px 0 10px;
      animation: fadeIn 2s ease-in-out;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .caption {
      font-size: var(--font-sm);
      font-style: italic;
      margin-bottom: 30px;
      color: #fff5f5;
      padding: 0 10px;
    }

    .secret-btn {
      margin: 20px auto;
      background: #fff;
      color: var(--main-color);
      border: none;
      border-radius: 50px;
      padding: 15px 30px;
      font-size: 1.1em;
      cursor: pointer;
      font-weight: bold;
      animation: pulse 2s infinite;
      transition: all 0.3s ease;
      max-width: 90%;
    }

    .secret-btn:hover {
      transform: scale(1.05);
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 79, 129, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(255, 79, 129, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 79, 129, 0); }
    }

    .secret-message {
      display: none;
      margin: 30px auto;
      font-size: var(--font-md);
      animation: fadeIn 2s ease-in;
      white-space: pre-wrap;
      padding: 0 20px;
      max-width: 90%;
    }

    #reply-box textarea {
      width: 100%;
      padding: 15px;
      border-radius: 15px;
      border: none;
      font-size: 1.1em;
      resize: none;
    }

    #reply-box button {
      margin-top: 10px;
      padding: 10px 25px;
      border: none;
      border-radius: 25px;
      background: white;
      color: var(--main-color);
      font-weight: bold;
      font-size: 1em;
      cursor: pointer;
    }

    .scratch-container {
      margin: 40px auto;
      max-width: 300px;
    }

    .footer {
      position: relative;
      bottom: 20px;
      width: 100%;
      font-size: 1.1em;
      color: #fff;
      margin-top: 40px;
    }

    .hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .pulsing-heart {
      position: absolute;
      font-size: 24px;
      animation: pulseFloat 6s ease-in-out infinite;
      opacity: 0.8;
      user-select: none;
    }

    @keyframes pulseFloat {
      0% { transform: translateY(100vh) scale(1); opacity: 1; }
      50% { transform: translateY(50vh) scale(1.3); opacity: 0.7; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    @media screen and (max-width: 600px) {
      h1 { font-size: 2.2em; }
      .typewriter, .secret-message, .secret-btn, .caption { font-size: 1.1em; }
      .secret-btn { padding: 12px 25px; }
    }
  </style>
</head>
<body>
  <h1>Hi Yuvi ‚ù§Ô∏è</h1>
  <div id="countdown" class="countdown">Just <span id="time"></span> until we hug again ü§ó</div>
  <div class="typewriter" id="message"></div>
  <img src="couple.png" alt="Couple under moon" class="moon-scene" />
  <div class="caption">Someday, this will be real... üåô</div>

  <button class="secret-btn" onclick="reveal()">üíñ Tap to unlock a secret üíñ</button>
  <div class="secret-message" id="secret">
    I don‚Äôt just love you for who you are ‚Äî I love you for who I become when I‚Äôm with you.
    You inspire me, calm me, challenge me, and complete me.
    One day, we‚Äôll look back at this distance and smile, because love like ours only grows.
    From nothing to everything, our bond will grow stronger than any insecurity. üåà
  </div>

  <div class="scratch-container">
    <div id="scratch-card"></div>
    <p style="color:white; font-size:1.2em;">You found the piggy! üê∑üíñ</p>
  </div>

  <a href="https://youtu.be/7GRz-zt8RuE?si=Z-r3OGYWk1dyBX9o" target="_blank" class="secret-btn">üéµ Our Song</a>

  <button class="secret-btn" onclick="showReply()">‚úçÔ∏è Write me back</button>
  <div id="reply-box" style="display: none; margin: 40px auto; max-width: 90%;">
    <textarea id="yuviMessage" rows="5" placeholder="Your words mean the world to me..."></textarea><br>
    <button onclick="sendMessage()">üì© Send to your baby</button>
  </div>

  <div class="footer">‚Äì Made with ‚ù§Ô∏è by your Gadheda</div>
  <div class="hearts" id="hearts"></div>

  <script>
    const msg = "Hey mrs yuvika, this is to remind you how much I love you. No matter what, I just want you to feel me near. Yesterday was tough but we fought well. We'll keep fighting for our love ‚ù§Ô∏è";
    let i = 0;
    function type() {
      if (i < msg.length) {
        document.getElementById("message").innerHTML += msg.charAt(i);
        i++;
        setTimeout(type, 50);
      }
    }
    type();

    function reveal() {
      document.getElementById("secret").style.display = "block";
    }

    function showReply() {
      const box = document.getElementById("reply-box");
      box.style.display = "block";
      box.scrollIntoView({ behavior: "smooth" });
    }

    function sendMessage() {
      const msg = document.getElementById("yuviMessage").value.trim();
      if (!msg) return alert("Type something sweet first, love üå∏");
      fetch("https://script.google.com/macros/s/AKfycbzZSF4bBQm0pUSFHqMAMmizgs75HGFb0TFTHjhsBs4kVkvP-Oe-poUZXS08qmqYlWcFwA/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: `message=${encodeURIComponent(msg)}`
      });
      alert("Aww, message sent to your baby üíå");
      document.getElementById("yuviMessage").value = "";
    }

    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "pulsing-heart";
      heart.innerText = "üíñ";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = `${16 + Math.random() * 24}px`;
      heart.style.animationDuration = `${4 + Math.random() * 4}s`;
            document.getElementById("hearts").appendChild(heart);
      setTimeout(() => heart.remove(), 8000);
    }

    setInterval(createHeart, 350);

    // Confetti on page load
    window.onload = () => {
      const duration = 3000;
      const end = Date.now() + duration;
      (function frame() {
        confetti({
          particleCount: 3,
          angle: 60,
          spread: 55,
          origin: { x: 0 }
        });
        confetti({
          particleCount: 3,
          angle: 120,
          spread: 55,
          origin: { x: 1 }
        });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();

      // Initialize scratch card
      new ScratchCard("#scratch-card", {
        scratchType: ScratchCard.SCRATCH_TYPE.CIRCLE,
        containerWidth: 300,
        containerHeight: 300,
        imageForwardSrc: "https://i.imgur.com/6GfgeBS.png", // Scratch overlay
        imageBackgroundSrc: "https://i.imgur.com/yIjMbmK.png", // Pig image
        percentToFinish: 50,
        callback: () => alert("You uncovered it! üê∑üíñ")
      }).init();
    };

    // Countdown timer
    function updateCountdown() {
      const endDate = new Date("December 8, 2025 00:00:00").getTime();
      const now = new Date().getTime();
      const distance = endDate - now;

      if (distance <= 0) {
        document.getElementById("time").innerHTML = "It‚Äôs our special day! üíë";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const mins = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const secs = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("time").innerHTML =
        `${days}d ${hours}h ${mins}m ${secs}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>
</body>
</html>

